!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ieh2calc=t():e.ieh2calc=t()}(this,(()=>(()=>{var e={72:(e,t,l)=>{var n=l(648),a=l(672),o=n.currentTab;void 0===a.currentTab&&(a.currentTab=o),o=n.restart,void 0===a.restart&&(a.restart=o),e.exports=n},434:(e,t,l)=>{var n=l(859),a=l(672),o=n.expeditionSave;void 0===a.expeditionSave&&(a.expeditionSave=o),e.exports=n},965:(e,t,l)=>{var n=l(650),a=l(672),o=n.anvilSave;void 0===a.anvilSave&&(a.anvilSave=o),e.exports=n},381:(e,t,l)=>{var n=l(816),a=l(672),o=n.slimeBankResearchStone;void 0===a.slimeBankResearchStone&&(a.slimeBankResearchStone=o),o=n.slimeBankResearchLeaf,void 0===a.slimeBankResearchLeaf&&(a.slimeBankResearchLeaf=o),o=n.slimeBankSlimeCoinCap1,void 0===a.slimeBankSlimeCoinCap1&&(a.slimeBankSlimeCoinCap1=o),o=n.slimeBankSlimeCoinCap2,void 0===a.slimeBankSlimeCoinCap2&&(a.slimeBankSlimeCoinCap2=o),e.exports=n},672:(e,t,l)=>{"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==l.g)return l.g}return e}()},650:(e,t,l)=>{"use strict";function n(e){localStorage.setItem(e,document.getElementById(e).value),a()}function a(){var e=localStorage.getItem("anvil-nitro-speed");for(let t=1;t<=10;t++){let l="anvil-dungeon-"+t+"-time",n="anvil-dungeon-"+t+"-value",a="anvil-dungeon-"+t+"-time",o="anvil-dungeon-"+t+"-orb",i=document.getElementById("anvil-dungeon-"+t+"-reward").innerHTML;document.getElementById(l).value=localStorage.getItem(l),document.getElementById(n).innerHTML=Math.round(3600/document.getElementById(a).value*i*e),document.getElementById(o).innerHTML=Math.round(3600/document.getElementById(a).value*e)}}l.r(t),l.d(t,{anvilSave:()=>n,calcAnvil:()=>a})},648:(e,t,l)=>{"use strict";function n(){window.localStorage.clear()}function a(e){localStorage.setItem("setting-currentTab",e)}function o(e,t,l,n=0){for(let a=e;a<=t;++a)n+=l(a);return n}function i(e){return 0==(e=parseFloat(e))?0:e<=1e4?Math.round(e):e<1e6?(e/1e3).toFixed(2)+"K":e<1e9?(e/1e6).toFixed(2)+"M":e<1e12?(e/1e9).toFixed(2)+"B":e<1e15?(e/1e12).toFixed(2)+"T":e.toExponential(2)}function r(e){if(/^\d*\.?\d+$/.test(e))return Math.round(e);{const t=/(.*)(\D)$/gm;e=(e=e.toLowerCase()).replace(/ /g,"");let l=0;return"t"==(e=t.exec(e))[2]?l=e[1]*1e3**4:"b"==e[2]?l=e[1]*1e3**3:"m"==e[2]?l=1e6*e[1]:"k"==e[2]&&(l=1e3*e[1]),l}}l.r(t),l.d(t,{convert:()=>i,convert2:()=>r,currentTab:()=>a,restart:()=>n,sigma:()=>o})},859:(e,t,l)=>{"use strict";function n(e){"text"==document.getElementById(e).type?localStorage.setItem(e,document.getElementById(e).value):"checkbox"==document.getElementById(e).type&&localStorage.setItem(e,document.getElementById(e).checked),o()}function a(){let e="expedition-speed-bonus-1",t="expedition-speed-bonus-2",l="expedition-speed-bonus-3";null===localStorage.getItem(e)?localStorage.setItem(e,100):document.getElementById(e).value=localStorage.getItem(e),null===localStorage.getItem(t)?localStorage.setItem(t,document.getElementById(t).checked):document.getElementById(t).checked="true"===localStorage.getItem(t),null===localStorage.getItem(l)?localStorage.setItem(l,!1):document.getElementById(l).checked="true"===localStorage.getItem(l),o()}function o(){let e=localStorage.getItem("expedition-speed-bonus-1"),t=[[106.519,"48.0h"],[68.014,"24.0h"],[35.495,"16.0h"],[17.759,"8.0h"],[8.877,"4.0h"],[4.439,"2.0h"],[2.2,"1.0h"]];for(let l=1;l<=8;l++){let n="expedition-team-"+l+"-level",a="expedition-team-"+l+"-speed",o="expedition-team-"+l+"-time";null===localStorage.getItem(n)?localStorage.setItem(n,document.getElementById(n).value):document.getElementById(n).value=localStorage.getItem(n),document.getElementById(n).value=localStorage.getItem(n);let i=1+.001*document.getElementById(n).value,r=i*e/100;"true"==localStorage.getItem("expedition-speed-bonus-2")&&(r+=i*e/100*.25),"true"==localStorage.getItem("expedition-speed-bonus-3")&&(r+=i*e/100*.25);for(let e=0;e<t.length;e++){if(r>=t[e][0]){document.getElementById(o).innerHTML=t[e][1];break}document.getElementById(o).innerHTML="0.5h"}document.getElementById(a).innerHTML=r.toFixed(3)}}function i(){return"testExpedition"}l.r(t),l.d(t,{calcExpedition:()=>o,expeditionLoad:()=>a,expeditionSave:()=>n,testExpedition:()=>i})},696:()=>{},816:(e,t,l)=>{"use strict";l.r(t),l.d(t,{slimeBankIntrest:()=>o,slimeBankOptimiser:()=>i,slimeBankResearchLeaf:()=>s,slimeBankResearchStone:()=>m,slimeBankSlimeCoinCap1:()=>r,slimeBankSlimeCoinCap2:()=>c,slimeBankSlimeCoinCapTotal:()=>a});var n=l(72);function a(){let e=localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-value")*((2*localStorage.getItem("slime-bank-research-leaf-level")+100)/100)*(localStorage.getItem("slime-bank-upgrade-slime-coin-cap-2-value")/100);localStorage.setItem("slime-bank-slime-coin-cap-total",e),document.getElementById("slime-bank-slime-coin-cap-value").innerHTML=(0,n.convert)(e),o(),i()}function o(){let e=.001*document.getElementById("slime-bank-research-stone-level").value*localStorage.getItem("slime-bank-slime-coin-cap-total");localStorage.setItem("slime-bank-intrest",e),document.getElementById("slime-bank-intrest").innerHTML=(0,n.convert)(e),i()}function i(){let e,t=localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-level"),l=localStorage.getItem("slime-bank-intrest")-.1*localStorage.getItem("slime-bank-intrest");e=t>=1e9?1e16:t>=5e8?1e15:t>=1e8?1e14:t>=5e7?1e13:t>=1e7?1e12:1e4*localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-level")+1e4,document.getElementById("slime-bank-upgrade-slime-coin-cap-1-cost").value=(0,n.convert)(e);let a=Math.round(l/e);document.getElementById("slime-bank-optimiser").innerHTML=a}function r(e){if((e=(0,n.convert2)(e))!=localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-level")){let t=(0,n.sigma)(0,e,(function(e){return 20*e-10+1e4}),10);document.getElementById("slime-bank-upgrade-slime-coin-cap-1-value").innerHTML=(0,n.convert)(t),localStorage.setItem("slime-bank-upgrade-slime-coin-cap-1-level",e),localStorage.setItem("slime-bank-upgrade-slime-coin-cap-1-value",t)}else document.getElementById("slime-bank-upgrade-slime-coin-cap-1-value").innerHTML=(0,n.convert)(localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-value"));document.getElementById("slime-bank-upgrade-slime-coin-cap-1-level").value=(0,n.convert)(localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-level")),a()}function c(e){let t=(0,n.sigma)(0,e,(function(e){return 20*e-10}),10);localStorage.setItem("slime-bank-upgrade-slime-coin-cap-2-level",e),localStorage.setItem("slime-bank-upgrade-slime-coin-cap-2-value",t+100),document.getElementById("slime-bank-upgrade-slime-coin-cap-2-value").innerHTML=(0,n.convert)(t+100),document.getElementById("slime-bank-upgrade-slime-coin-cap-2-level").value=localStorage.getItem("slime-bank-upgrade-slime-coin-cap-2-level"),a()}function m(e){localStorage.setItem("slime-bank-research-stone-level",e),document.getElementById("slime-bank-research-stone-level").value=localStorage.getItem("slime-bank-research-stone-level"),document.getElementById("slime-bank-research-stone-value").innerHTML=+(.1*e).toFixed(2),o()}function s(e){localStorage.setItem("slime-bank-research-leaf-level",e),document.getElementById("slime-bank-research-leaf-level").value=localStorage.getItem("slime-bank-research-leaf-level"),document.getElementById("slime-bank-research-leaf-value").innerHTML=+(2*e).toFixed(2)+100,a()}}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,l),o.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";l.r(n);var e=l(965),t=l(434),a=l(381);const{file:o,parse:i}=l(696);var r;r=function(){!function(){var l=0;localStorage.getItem("setting-currentTab")?["slime-bank","lab","anvil","expedition"].forEach((e=>{l=e+"-calculator",localStorage.getItem("setting-currentTab")==e?(document.getElementById(l).style.display="block",document.getElementById(e).style.color="#f2e009"):document.getElementById(l).style.display="none"})):(localStorage.setItem("setting-currentTab","slime-bank"),document.getElementById("slime-bank").style.color="#f2e009",document.getElementById("lab-calculator").style.display="none",document.getElementById("anvil-calculator").style.display="none",document.getElementById("expedition-calculator").style.display="none"),null===localStorage.getItem("anvil-nitro-speed")?localStorage.setItem("anvil-nitro-speed",1):document.getElementById("anvil-nitro-speed").value=localStorage.getItem("anvil-nitro-speed");for(let e=1;e<=10;e++){var n;n="anvil-dungeon-"+e+"-time",null===localStorage.getItem(n)?localStorage.setItem(n,document.getElementById(n).value):document.getElementById(n).value=localStorage.getItem(n)}(0,e.calcAnvil)(),(0,t.expeditionLoad)(),null===localStorage.getItem("slime-bank-research-stone-level")?(0,a.slimeBankResearchStone)(0):(0,a.slimeBankResearchStone)(localStorage.getItem("slime-bank-research-stone-level")),null===localStorage.getItem("slime-bank-research-leaf-level")?(0,a.slimeBankResearchLeaf)(0):(0,a.slimeBankResearchLeaf)(localStorage.getItem("slime-bank-research-leaf-level")),null===localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-level")?(0,a.slimeBankSlimeCoinCap1)(0):(0,a.slimeBankSlimeCoinCap1)(localStorage.getItem("slime-bank-upgrade-slime-coin-cap-1-level")),null===localStorage.getItem("slime-bank-upgrade-slime-coin-cap-2-level")?(0,a.slimeBankSlimeCoinCap2)(0):(0,a.slimeBankSlimeCoinCap2)(localStorage.getItem("slime-bank-upgrade-slime-coin-cap-2-level"))}()},"loading"!=document.readyState?r():document.addEventListener("DOMContentLoaded",r)})(),n})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUdBLEdBQUssR0FBSUEsSUFBSyxDQUM1QixJQUFJQyxFQUNKQSxFQUFLLGlCQUFtQkQsRUFBSSxRQUNLLE9BQTdCUixhQUFhTyxRQUFRRSxHQUN2QlQsYUFBYUMsUUFBUVEsRUFBSVAsU0FBU0MsZUFBZU0sR0FBSUwsT0FFckRGLFNBQVNDLGVBQWVNLEdBQUlMLE1BQVFKLGFBQWFPLFFBQVFFLEVBRTdELEVBQ0EsSUFBQUosY0FFQSxJQUFBK0Isa0JBZWdFLE9BQTVEcEMsYUFBYU8sUUFBUSxvQ0FDdkIsSUFBQWxCLHdCQUF1QixJQUV2QixJQUFBQSx3QkFDRVcsYUFBYU8sUUFBUSxvQ0FJc0MsT0FBM0RQLGFBQWFPLFFBQVEsbUNBQ3ZCLElBQUFqQix1QkFBc0IsSUFFdEIsSUFBQUEsdUJBQ0VVLGFBQWFPLFFBQVEsbUNBSytDLE9BQXRFUCxhQUFhTyxRQUFRLDhDQUVyQixJQUFBaEIsd0JBQXVCLElBRXZCLElBQUFBLHdCQUNFUyxhQUFhTyxRQUFRLDhDQUsrQyxPQUF0RVAsYUFBYU8sUUFBUSw4Q0FFckIsSUFBQWYsd0JBQXVCLElBRXZCLElBQUFBLHdCQUNFUSxhQUFhTyxRQUFRLDZDQVkzQixDRDlGRWlGLEVBR0YsRUFaNkIsV0FBdkJ0RixTQUFTdUYsV0FDWFIsSUFFQS9FLFNBQVN3RixpQkFBaUIsbUJBQW9CVCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaWVoMmNhbGMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2llaDJjYWxjLy4vc3JjL2NvbW1vbi1leHBvc2VkLmpzIiwid2VicGFjazovL2llaDJjYWxjLy4vc3JjL2V4cGVkaXRpb24tZXhwb3NlZC5qcyIsIndlYnBhY2s6Ly9pZWgyY2FsYy8uL3NyYy9hbnZpbC1leHBvc2VkLmpzIiwid2VicGFjazovL2llaDJjYWxjLy4vc3JjL3NsaW1lYmFuay1leHBvc2VkLmpzIiwid2VicGFjazovL2llaDJjYWxjLy4vbm9kZV9tb2R1bGVzL2V4cG9zZS1sb2FkZXIvZGlzdC9ydW50aW1lL2dldEdsb2JhbFRoaXMuanMiLCJ3ZWJwYWNrOi8vaWVoMmNhbGMvLi9zcmMvYW52aWwuanMiLCJ3ZWJwYWNrOi8vaWVoMmNhbGMvLi9zcmMvY29tbW9uLmpzIiwid2VicGFjazovL2llaDJjYWxjLy4vc3JjL2V4cGVkaXRpb24uanMiLCJ3ZWJwYWNrOi8vaWVoMmNhbGMvLi9zcmMvc2xpbWViYW5rLmpzIiwid2VicGFjazovL2llaDJjYWxjL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2llaDJjYWxjL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2llaDJjYWxjL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9pZWgyY2FsYy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2llaDJjYWxjL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaWVoMmNhbGMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9pZWgyY2FsYy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9pZWgyY2FsYy8uL3NyYy9sb2FkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImllaDJjYWxjXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImllaDJjYWxjXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgKCkgPT4ge1xucmV0dXJuICIsInZhciBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCItIS4vY29tbW9uLmpzXCIpO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfR0VUX0dMT0JBTF9USElTX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9leHBvc2UtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRHbG9iYWxUaGlzLmpzXCIpO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX18gPSBfX19FWFBPU0VfTE9BREVSX0dFVF9HTE9CQUxfVEhJU19fXztcbnZhciBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9NT0RVTEVfTE9DQUxfTkFNRV9fXyA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fLmN1cnJlbnRUYWJcbmlmICh0eXBlb2YgX19fRVhQT1NFX0xPQURFUl9HTE9CQUxfVEhJU19fX1tcImN1cnJlbnRUYWJcIl0gPT09ICd1bmRlZmluZWQnKSBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wiY3VycmVudFRhYlwiXSA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX18ucmVzdGFydFxuaWYgKHR5cGVvZiBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wicmVzdGFydFwiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJyZXN0YXJ0XCJdID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX187XG5tb2R1bGUuZXhwb3J0cyA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fO1xuIiwidmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fID0gcmVxdWlyZShcIi0hLi9leHBlZGl0aW9uLmpzXCIpO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfR0VUX0dMT0JBTF9USElTX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9leHBvc2UtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRHbG9iYWxUaGlzLmpzXCIpO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX18gPSBfX19FWFBPU0VfTE9BREVSX0dFVF9HTE9CQUxfVEhJU19fXztcbnZhciBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9NT0RVTEVfTE9DQUxfTkFNRV9fXyA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fLmV4cGVkaXRpb25TYXZlXG5pZiAodHlwZW9mIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJleHBlZGl0aW9uU2F2ZVwiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJleHBlZGl0aW9uU2F2ZVwiXSA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fO1xubW9kdWxlLmV4cG9ydHMgPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXztcbiIsInZhciBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCItIS4vYW52aWwuanNcIik7XG52YXIgX19fRVhQT1NFX0xPQURFUl9HRVRfR0xPQkFMX1RISVNfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2V4cG9zZS1sb2FkZXIvZGlzdC9ydW50aW1lL2dldEdsb2JhbFRoaXMuanNcIik7XG52YXIgX19fRVhQT1NFX0xPQURFUl9HTE9CQUxfVEhJU19fXyA9IF9fX0VYUE9TRV9MT0FERVJfR0VUX0dMT0JBTF9USElTX19fO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX18uYW52aWxTYXZlXG5pZiAodHlwZW9mIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJhbnZpbFNhdmVcIl0gPT09ICd1bmRlZmluZWQnKSBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wiYW52aWxTYXZlXCJdID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX187XG5tb2R1bGUuZXhwb3J0cyA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fO1xuIiwidmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fID0gcmVxdWlyZShcIi0hLi9zbGltZWJhbmsuanNcIik7XG52YXIgX19fRVhQT1NFX0xPQURFUl9HRVRfR0xPQkFMX1RISVNfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2V4cG9zZS1sb2FkZXIvZGlzdC9ydW50aW1lL2dldEdsb2JhbFRoaXMuanNcIik7XG52YXIgX19fRVhQT1NFX0xPQURFUl9HTE9CQUxfVEhJU19fXyA9IF9fX0VYUE9TRV9MT0FERVJfR0VUX0dMT0JBTF9USElTX19fO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX18uc2xpbWVCYW5rUmVzZWFyY2hTdG9uZVxuaWYgKHR5cGVvZiBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wic2xpbWVCYW5rUmVzZWFyY2hTdG9uZVwiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJzbGltZUJhbmtSZXNlYXJjaFN0b25lXCJdID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX187XG52YXIgX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX18gPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXy5zbGltZUJhbmtSZXNlYXJjaExlYWZcbmlmICh0eXBlb2YgX19fRVhQT1NFX0xPQURFUl9HTE9CQUxfVEhJU19fX1tcInNsaW1lQmFua1Jlc2VhcmNoTGVhZlwiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJzbGltZUJhbmtSZXNlYXJjaExlYWZcIl0gPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9NT0RVTEVfTE9DQUxfTkFNRV9fXztcbnZhciBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9NT0RVTEVfTE9DQUxfTkFNRV9fXyA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fLnNsaW1lQmFua1NsaW1lQ29pbkNhcDFcbmlmICh0eXBlb2YgX19fRVhQT1NFX0xPQURFUl9HTE9CQUxfVEhJU19fX1tcInNsaW1lQmFua1NsaW1lQ29pbkNhcDFcIl0gPT09ICd1bmRlZmluZWQnKSBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wic2xpbWVCYW5rU2xpbWVDb2luQ2FwMVwiXSA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fO1xudmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX01PRFVMRV9MT0NBTF9OQU1FX19fID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX18uc2xpbWVCYW5rU2xpbWVDb2luQ2FwMlxuaWYgKHR5cGVvZiBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wic2xpbWVCYW5rU2xpbWVDb2luQ2FwMlwiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJzbGltZUJhbmtTbGltZUNvaW5DYXAyXCJdID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX187XG5tb2R1bGUuZXhwb3J0cyA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIH1cbiAgdmFyIGc7XG4gIHRyeSB7XG4gICAgLy8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgZyA9IHRoaXMgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3b3JrcyBpZiB0aGUgc2VsZiByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdvcmtzIGlmIHRoZSBnbG9iYWwgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZztcbn0oKTsiLCJmdW5jdGlvbiBhbnZpbFNhdmUoaW5wdXQpIHtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpbnB1dCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXQpLnZhbHVlKTtcclxuICBjYWxjQW52aWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY0FudmlsKCkge1xyXG4gIHZhciBuaXRybyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYW52aWwtbml0cm8tc3BlZWRcIik7XHJcblxyXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IDEwOyBpKyspIHtcclxuICAgIGxldCBpZCA9IFwiYW52aWwtZHVuZ2Vvbi1cIiArIGkgKyBcIi10aW1lXCI7XHJcbiAgICBsZXQgdmFsdWUgPSBcImFudmlsLWR1bmdlb24tXCIgKyBpICsgXCItdmFsdWVcIjtcclxuICAgIGxldCB0aW1lID0gXCJhbnZpbC1kdW5nZW9uLVwiICsgaSArIFwiLXRpbWVcIjtcclxuICAgIGxldCBvcmIgPSBcImFudmlsLWR1bmdlb24tXCIgKyBpICsgXCItb3JiXCI7XHJcbiAgICBsZXQgcmV3YXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYW52aWwtZHVuZ2Vvbi1cIiArIGkgKyBcIi1yZXdhcmRcIlxyXG4gICAgKS5pbm5lckhUTUw7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oaWQpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpLmlubmVySFRNTCA9IE1hdGgucm91bmQoXHJcbiAgICAgICgzNjAwIC8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGltZSkudmFsdWUpICogcmV3YXJkICogbml0cm9cclxuICAgICk7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcmIpLmlubmVySFRNTCA9IE1hdGgucm91bmQoXHJcbiAgICAgICgzNjAwIC8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGltZSkudmFsdWUpICogbml0cm9cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBsaXN0LmZvckVhY2gobXlGdW5jdGlvbik7XHJcbiAgLy8gaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbnZpbC1mb3gtZHVuZ2Vvbi0xLXRpbWUnKSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW52aWwtZm94LWR1bmdlb24tMS10aW1lJykudmFsdWUgIT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FudmlsLWZveC1kdW5nZW9uLTEtdGltZScpKSB7XHJcbiAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW52aWwtZm94LWR1bmdlb24tMS10aW1lJykudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYW52aWwtZm94LWR1bmdlb24tMS10aW1lJyk7XHJcbiAgLy8gfVxyXG4gIC8vIGVsc2Uge2xvY2FsU3RvcmFnZS5zZXRJdGVtKCdhbnZpbC1mb3gtZHVuZ2Vvbi0xLXRpbWUnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW52aWwtZm94LWR1bmdlb24tMS10aW1lJykudmFsdWUpO31cclxuXHJcbiAgLy8gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnZpbC1mb3gtZHVuZ2Vvbi0xLXZhbHVlJykuaW5uZXJIVE1MID0gMzYwMCAvIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnZpbC1mb3gtZHVuZ2Vvbi0xLXRpbWUnKS52YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IHsgY2FsY0FudmlsLCBhbnZpbFNhdmUgfTtcclxuIiwiLy8gZGVidWdcclxuZnVuY3Rpb24gcmVzdGFydCgpIHtcclxuICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGN1cnJlbnRUYWIoaW5wdXQpIHtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNldHRpbmctY3VycmVudFRhYlwiLCBpbnB1dCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpZ21hKGxvd2VyQm91bmQsIHVwcGVyQm91bmQsIGl0ZXJhdG9yLCBhY2N1bXVsYXRvciA9IDApIHtcclxuICAvLyBsZXQgYWNjdW11bGF0b3IgPSAwO1xyXG4gIGZvciAobGV0IGkgPSBsb3dlckJvdW5kOyBpIDw9IHVwcGVyQm91bmQ7ICsraSkge1xyXG4gICAgYWNjdW11bGF0b3IgKz0gaXRlcmF0b3IoaSk7XHJcbiAgfVxyXG4gIHJldHVybiBhY2N1bXVsYXRvcjtcclxufVxyXG5cclxuLy8gY29udmVydCBub3JtYWwgbnVtYmVyIHRvIEssTSxCLFQgYW5kIGV4cG9uZW50aWFsXHJcbmZ1bmN0aW9uIGNvbnZlcnQoaW5wdXQpIHtcclxuICBpbnB1dCA9IHBhcnNlRmxvYXQoaW5wdXQpO1xyXG4gIHZhciBvdXRwdXQgPSAwO1xyXG4gIGlmIChpbnB1dCA9PSAwKSB7XHJcbiAgICBvdXRwdXQgPSAwO1xyXG4gIH0gZWxzZSBpZiAoaW5wdXQgPD0gMTAwMDApIHtcclxuICAgIG91dHB1dCA9IE1hdGgucm91bmQoaW5wdXQpO1xyXG4gIH0gZWxzZSBpZiAoaW5wdXQgPCAxMDAwMDAwKSB7XHJcbiAgICBvdXRwdXQgPSAoaW5wdXQgLyAxMDAwKS50b0ZpeGVkKDIpICsgXCJLXCI7XHJcbiAgfSBlbHNlIGlmIChpbnB1dCA8IDEwMDAwMDAwMDApIHtcclxuICAgIG91dHB1dCA9IChpbnB1dCAvIDEwMDAwMDApLnRvRml4ZWQoMikgKyBcIk1cIjtcclxuICB9IGVsc2UgaWYgKGlucHV0IDwgMTAwMDAwMDAwMDAwMCkge1xyXG4gICAgb3V0cHV0ID0gKGlucHV0IC8gMTAwMDAwMDAwMCkudG9GaXhlZCgyKSArIFwiQlwiO1xyXG4gIH0gZWxzZSBpZiAoaW5wdXQgPCAxMDAwMDAwMDAwMDAwMDAwKSB7XHJcbiAgICBvdXRwdXQgPSAoaW5wdXQgLyAxMDAwMDAwMDAwMDAwKS50b0ZpeGVkKDIpICsgXCJUXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dHB1dCA9IGlucHV0LnRvRXhwb25lbnRpYWwoMik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblxyXG4vLyBjb252ZXJ0IGssbSxiLHQgdG8gbm9ybWFsIG51bWJlcnNcclxuZnVuY3Rpb24gY29udmVydDIoaW5wdXQpIHtcclxuICBpZiAoL15cXGQqXFwuP1xcZCskLy50ZXN0KGlucHV0KSkge1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoaW5wdXQpO1xyXG4gIH0gLy8gcmV0dXJuIHJvdW5kZWQgbnVtYmVyIGlmIHRoZXJlIGlzIG5vIGFiYnJldmlldGVcclxuICBlbHNlIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gLyguKikoXFxEKSQvZ207XHJcbiAgICBpbnB1dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLyAvZywgXCJcIik7IC8vcmVtb3ZlcyBhbGwgc3BhY2VzXHJcbiAgICBpbnB1dCA9IHJlZ2V4LmV4ZWMoaW5wdXQpO1xyXG4gICAgbGV0IG91dHB1dCA9IDA7XHJcbiAgICBpZiAoaW5wdXRbMl0gPT0gXCJ0XCIpIHtcclxuICAgICAgb3V0cHV0ID0gaW5wdXRbMV0gKiAxMDAwICoqIDQ7XHJcbiAgICB9IGVsc2UgaWYgKGlucHV0WzJdID09IFwiYlwiKSB7XHJcbiAgICAgIG91dHB1dCA9IGlucHV0WzFdICogMTAwMCAqKiAzO1xyXG4gICAgfSBlbHNlIGlmIChpbnB1dFsyXSA9PSBcIm1cIikge1xyXG4gICAgICBvdXRwdXQgPSBpbnB1dFsxXSAqIDEwMDAgKiogMjtcclxuICAgIH0gZWxzZSBpZiAoaW5wdXRbMl0gPT0gXCJrXCIpIHtcclxuICAgICAgb3V0cHV0ID0gaW5wdXRbMV0gKiAxMDAwICoqIDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IGNvbnZlcnQsIGNvbnZlcnQyLCBzaWdtYSwgcmVzdGFydCwgY3VycmVudFRhYiB9O1xyXG4iLCJmdW5jdGlvbiBleHBlZGl0aW9uU2F2ZShpbnB1dCkge1xyXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dCkudHlwZSA9PSBcInRleHRcIikge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5wdXQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0KS52YWx1ZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygndGV4dCcpO1xyXG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXQpLnR5cGUgPT0gXCJjaGVja2JveFwiKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpbnB1dCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXQpLmNoZWNrZWQpO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2JveCcpO1xyXG4gICAgLy8gY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXQpLmNoZWNrZWQpO1xyXG4gICAgLy8gY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oaW5wdXQpKTtcclxuICB9XHJcblxyXG4gIC8vIGNvbnNvbGUubG9nKGlucHV0KTtcclxuICBjYWxjRXhwZWRpdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHBlZGl0aW9uTG9hZCgpIHtcclxuICBsZXQgc3BlZWRCb251czEgPSBcImV4cGVkaXRpb24tc3BlZWQtYm9udXMtMVwiO1xyXG4gIGxldCBzcGVlZEJvbnVzMiA9IFwiZXhwZWRpdGlvbi1zcGVlZC1ib251cy0yXCI7XHJcbiAgbGV0IHNwZWVkQm9udXMzID0gXCJleHBlZGl0aW9uLXNwZWVkLWJvbnVzLTNcIjtcclxuXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNwZWVkQm9udXMxKSA9PT0gbnVsbCkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3BlZWRCb251czEsIDEwMCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNwZWVkQm9udXMxKS52YWx1ZSA9XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNwZWVkQm9udXMxKTtcclxuICB9XHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNwZWVkQm9udXMyKSA9PT0gbnVsbCkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXHJcbiAgICAgIHNwZWVkQm9udXMyLFxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcGVlZEJvbnVzMikuY2hlY2tlZFxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3BlZWRCb251czIpLmNoZWNrZWQgPVxyXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzcGVlZEJvbnVzMikgPT09IFwidHJ1ZVwiO1xyXG4gIH1cclxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3BlZWRCb251czMpID09PSBudWxsKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzcGVlZEJvbnVzMywgZmFsc2UpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcGVlZEJvbnVzMykuY2hlY2tlZCA9XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNwZWVkQm9udXMzKSA9PT0gXCJ0cnVlXCI7XHJcbiAgfVxyXG5cclxuICBjYWxjRXhwZWRpdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjRXhwZWRpdGlvbigpIHtcclxuICAvLyB2YXIgbml0cm8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYW52aWwtbml0cm8tc3BlZWQnKTtcclxuICBsZXQgc3BlZWRCb251czEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImV4cGVkaXRpb24tc3BlZWQtYm9udXMtMVwiKTtcclxuICBsZXQgc3BlZWRCb251czIgPSBcImV4cGVkaXRpb24tc3BlZWQtYm9udXMtMlwiO1xyXG4gIGxldCBzcGVlZEJvbnVzMyA9IFwiZXhwZWRpdGlvbi1zcGVlZC1ib251cy0zXCI7XHJcbiAgbGV0IHRvdGFsU3BlZWQgPSAwO1xyXG4gIC8vIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzcGVlZEJvbnVzMSkgPT09IG51bGwpIHtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzcGVlZEJvbnVzMSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3BlZWRCb251czEpLmNoZWNrZWQpO31cclxuICAvLyBlbHNlIHtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcGVlZEJvbnVzMSkuY2hlY2tlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNwZWVkQm9udXMxKTt9XHJcbiAgbGV0IHNwZWVkVGFibGUgPSBbXHJcbiAgICBbMTA2LjUxOSwgXCI0OC4waFwiXSxcclxuICAgIFs2OC4wMTQsIFwiMjQuMGhcIl0sXHJcbiAgICBbMzUuNDk1LCBcIjE2LjBoXCJdLFxyXG4gICAgWzE3Ljc1OSwgXCI4LjBoXCJdLFxyXG4gICAgWzguODc3LCBcIjQuMGhcIl0sXHJcbiAgICBbNC40MzksIFwiMi4waFwiXSxcclxuICAgIFsyLjIsIFwiMS4waFwiXSxcclxuICBdO1xyXG4gIC8vIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzcGVlZEJvbnVzMikgPT0gdHJ1ZSkge3RvdGFsU3BlZWQgKz0gMTt9XHJcblxyXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IDg7IGkrKykge1xyXG4gICAgbGV0IGxldmVsID0gXCJleHBlZGl0aW9uLXRlYW0tXCIgKyBpICsgXCItbGV2ZWxcIjtcclxuICAgIGxldCBzcGVlZCA9IFwiZXhwZWRpdGlvbi10ZWFtLVwiICsgaSArIFwiLXNwZWVkXCI7XHJcbiAgICBsZXQgdGltZSA9IFwiZXhwZWRpdGlvbi10ZWFtLVwiICsgaSArIFwiLXRpbWVcIjtcclxuXHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0obGV2ZWwpID09PSBudWxsKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxldmVsLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsZXZlbCkudmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGV2ZWwpLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obGV2ZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICAgcmV3YXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FudmlsLWR1bmdlb24tJyArIGkgKyAnLXJld2FyZCcpLmlubmVySFRNTDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxldmVsKS52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxldmVsKTtcclxuICAgIGxldCBiYXNlU3BlZWQgPSAxICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGV2ZWwpLnZhbHVlICogMC4wMDE7XHJcbiAgICAvLyB0b3RhbFNwZWVkID0gYmFzZVNwZWVkIDtcclxuICAgIGxldCB0b3RhbFNwZWVkID0gKGJhc2VTcGVlZCAqIHNwZWVkQm9udXMxKSAvIDEwMDtcclxuICAgIC8vIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzcGVlZEJvbnVzMikgPT09ICd0cnVlJykge3RvdGFsU3BlZWQgKz0gMTt9XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3BlZWRCb251czIpID09IFwidHJ1ZVwiKSB7XHJcbiAgICAgIHRvdGFsU3BlZWQgKz0gKChiYXNlU3BlZWQgKiBzcGVlZEJvbnVzMSkgLyAxMDApICogMC4yNTtcclxuICAgIH1cclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzcGVlZEJvbnVzMykgPT0gXCJ0cnVlXCIpIHtcclxuICAgICAgdG90YWxTcGVlZCArPSAoKGJhc2VTcGVlZCAqIHNwZWVkQm9udXMxKSAvIDEwMCkgKiAwLjI1O1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlZWRUYWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodG90YWxTcGVlZCA+PSBzcGVlZFRhYmxlW2ldWzBdKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGltZSkuaW5uZXJIVE1MID0gc3BlZWRUYWJsZVtpXVsxXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aW1lKS5pbm5lckhUTUwgPSBcIjAuNWhcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNwZWVkVGFibGUpKSB7XHJcbiAgICAvLyAgIGlmICh0b3RhbFNwZWVkID4ga2V5KSB7XHJcbiAgICAvLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGltZSkuaW5uZXJIVE1MID0gdmFsdWU7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgY29uc29sZS5sb2coYCR7a2V5fTogJHt2YWx1ZX1gKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcGVlZCkuaW5uZXJIVE1MID0gdG90YWxTcGVlZC50b0ZpeGVkKDMpO1xyXG4gICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcmIpLmlubmVySFRNTCA9IE1hdGgucm91bmQoMzYwMCAvIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRpbWUpLnZhbHVlICogbml0cm8pIDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRlc3RFeHBlZGl0aW9uKCkge1xyXG4gIHJldHVybiBcInRlc3RFeHBlZGl0aW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGV4cGVkaXRpb25TYXZlLCBleHBlZGl0aW9uTG9hZCwgY2FsY0V4cGVkaXRpb24sIHRlc3RFeHBlZGl0aW9uIH07XHJcbiIsImltcG9ydCB7IGNvbnZlcnQsIGNvbnZlcnQyLCBzaWdtYSB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vLyBTbGltZSBCYW5rIGZ1bmN0aW9uc1xyXG5cclxuZnVuY3Rpb24gc2xpbWVCYW5rU2xpbWVDb2luQ2FwVG90YWwoKSB7XHJcbiAgbGV0IG91dHB1dCA9XHJcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0xLXZhbHVlXCIpICpcclxuICAgICgobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXJlc2VhcmNoLWxlYWYtbGV2ZWxcIikgKiAyICsgMTAwKSAvIDEwMCkgKlxyXG4gICAgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTItdmFsdWVcIikgLyAxMDApO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2xpbWUtYmFuay1zbGltZS1jb2luLWNhcC10b3RhbFwiLCBvdXRwdXQpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpbWUtYmFuay1zbGltZS1jb2luLWNhcC12YWx1ZVwiKS5pbm5lckhUTUwgPVxyXG4gICAgY29udmVydChvdXRwdXQpO1xyXG4gIHNsaW1lQmFua0ludHJlc3QoKTtcclxuICBzbGltZUJhbmtPcHRpbWlzZXIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpbWVCYW5rSW50cmVzdCgpIHtcclxuICBsZXQgaW50cmVzdCA9XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaW1lLWJhbmstcmVzZWFyY2gtc3RvbmUtbGV2ZWxcIikudmFsdWUgKlxyXG4gICAgMC4wMDEgKlxyXG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXNsaW1lLWNvaW4tY2FwLXRvdGFsXCIpO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2xpbWUtYmFuay1pbnRyZXN0XCIsIGludHJlc3QpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpbWUtYmFuay1pbnRyZXN0XCIpLmlubmVySFRNTCA9IGNvbnZlcnQoaW50cmVzdCk7XHJcbiAgc2xpbWVCYW5rT3B0aW1pc2VyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNsaW1lQmFua09wdGltaXNlcigpIHtcclxuICBsZXQgc2xpbWVfY29pbl9jYXBfMV9sZXZlbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFxyXG4gICAgXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMS1sZXZlbFwiXHJcbiAgKTtcclxuICBsZXQgaW50cmVzdCA9XHJcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstaW50cmVzdFwiKSAtXHJcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstaW50cmVzdFwiKSAqIDAuMTtcclxuICBsZXQgc2xpbWVfY29pbl9jYXBfMV9jb3N0O1xyXG5cclxuICBpZiAoc2xpbWVfY29pbl9jYXBfMV9sZXZlbCA+PSAxMDAwMDAwMDAwKSB7XHJcbiAgICBzbGltZV9jb2luX2NhcF8xX2Nvc3QgPSAxMDAwMDAwMDAwMDAwMDAwMDtcclxuICB9IC8vIDEuMDArRTE2XHJcbiAgZWxzZSBpZiAoc2xpbWVfY29pbl9jYXBfMV9sZXZlbCA+PSA1MDAwMDAwMDApIHtcclxuICAgIHNsaW1lX2NvaW5fY2FwXzFfY29zdCA9IDEwMDAwMDAwMDAwMDAwMDA7XHJcbiAgfSAvLyAxLjAwK0UxNVxyXG4gIGVsc2UgaWYgKHNsaW1lX2NvaW5fY2FwXzFfbGV2ZWwgPj0gMTAwMDAwMDAwKSB7XHJcbiAgICBzbGltZV9jb2luX2NhcF8xX2Nvc3QgPSAxMDAwMDAwMDAwMDAwMDA7XHJcbiAgfSAvLyAxMDBUXHJcbiAgZWxzZSBpZiAoc2xpbWVfY29pbl9jYXBfMV9sZXZlbCA+PSA1MDAwMDAwMCkge1xyXG4gICAgc2xpbWVfY29pbl9jYXBfMV9jb3N0ID0gMTAwMDAwMDAwMDAwMDA7XHJcbiAgfSAvLyAxMFRcclxuICBlbHNlIGlmIChzbGltZV9jb2luX2NhcF8xX2xldmVsID49IDEwMDAwMDAwKSB7XHJcbiAgICBzbGltZV9jb2luX2NhcF8xX2Nvc3QgPSAxMDAwMDAwMDAwMDAwO1xyXG4gIH0gLy8gMVRcclxuICBlbHNlIHtcclxuICAgIHNsaW1lX2NvaW5fY2FwXzFfY29zdCA9XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTEtbGV2ZWxcIikgKlxyXG4gICAgICAgIDEwMDAwICtcclxuICAgICAgMTAwMDA7XHJcbiAgfSAvLyBuZWVkIHRvIGZpbmQgc29sdXRpb24gZm9yIGxlc3MgdGhhbiAxME0gdXBncmFkZXNcclxuXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMS1jb3N0XCIpLnZhbHVlID1cclxuICAgIGNvbnZlcnQoc2xpbWVfY29pbl9jYXBfMV9jb3N0KTtcclxuICBsZXQgb3V0cHV0ID0gTWF0aC5yb3VuZChpbnRyZXN0IC8gc2xpbWVfY29pbl9jYXBfMV9jb3N0KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaW1lLWJhbmstb3B0aW1pc2VyXCIpLmlubmVySFRNTCA9IG91dHB1dDtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpbWVCYW5rU2xpbWVDb2luQ2FwMShpbnB1dCkge1xyXG4gIGlucHV0ID0gY29udmVydDIoaW5wdXQpO1xyXG5cclxuICBpZiAoXHJcbiAgICBpbnB1dCAhPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0xLWxldmVsXCIpXHJcbiAgKSB7XHJcbiAgICBsZXQgb3V0cHV0ID0gc2lnbWEoXHJcbiAgICAgIDAsXHJcbiAgICAgIGlucHV0LFxyXG4gICAgICBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgIHJldHVybiBhICogMjAgLSAxMCArIDEwMDAwO1xyXG4gICAgICB9LFxyXG4gICAgICAxMFxyXG4gICAgKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0xLXZhbHVlXCJcclxuICAgICkuaW5uZXJIVE1MID0gY29udmVydChvdXRwdXQpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMS1sZXZlbFwiLCBpbnB1dCk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0xLXZhbHVlXCIsIG91dHB1dCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0xLXZhbHVlXCJcclxuICAgICkuaW5uZXJIVE1MID0gY29udmVydChcclxuICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMS12YWx1ZVwiKVxyXG4gICAgKTtcclxuICB9XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMS1sZXZlbFwiKS52YWx1ZSA9XHJcbiAgICBjb252ZXJ0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTEtbGV2ZWxcIikpO1xyXG4gIHNsaW1lQmFua1NsaW1lQ29pbkNhcFRvdGFsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNsaW1lQmFua1NsaW1lQ29pbkNhcDIoaW5wdXQpIHtcclxuICBsZXQgb3V0cHV0ID0gc2lnbWEoXHJcbiAgICAwLFxyXG4gICAgaW5wdXQsXHJcbiAgICBmdW5jdGlvbiAoYSkge1xyXG4gICAgICByZXR1cm4gYSAqIDIwIC0gMTA7XHJcbiAgICB9LFxyXG4gICAgMTBcclxuICApO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTItbGV2ZWxcIiwgaW5wdXQpO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxyXG4gICAgXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMi12YWx1ZVwiLFxyXG4gICAgb3V0cHV0ICsgMTAwXHJcbiAgKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTItdmFsdWVcIlxyXG4gICkuaW5uZXJIVE1MID0gY29udmVydChvdXRwdXQgKyAxMDApO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTItbGV2ZWxcIikudmFsdWUgPVxyXG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXVwZ3JhZGUtc2xpbWUtY29pbi1jYXAtMi1sZXZlbFwiKTtcclxuICBzbGltZUJhbmtTbGltZUNvaW5DYXBUb3RhbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGltZUJhbmtSZXNlYXJjaFN0b25lKGlucHV0KSB7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzbGltZS1iYW5rLXJlc2VhcmNoLXN0b25lLWxldmVsXCIsIGlucHV0KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaW1lLWJhbmstcmVzZWFyY2gtc3RvbmUtbGV2ZWxcIikudmFsdWUgPVxyXG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXJlc2VhcmNoLXN0b25lLWxldmVsXCIpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpbWUtYmFuay1yZXNlYXJjaC1zdG9uZS12YWx1ZVwiKS5pbm5lckhUTUwgPSArKFxyXG4gICAgaW5wdXQgKiAwLjFcclxuICApLnRvRml4ZWQoMik7XHJcbiAgc2xpbWVCYW5rSW50cmVzdCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGltZUJhbmtSZXNlYXJjaExlYWYoaW5wdXQpIHtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNsaW1lLWJhbmstcmVzZWFyY2gtbGVhZi1sZXZlbFwiLCBpbnB1dCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbGltZS1iYW5rLXJlc2VhcmNoLWxlYWYtbGV2ZWxcIikudmFsdWUgPVxyXG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXJlc2VhcmNoLWxlYWYtbGV2ZWxcIik7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbGltZS1iYW5rLXJlc2VhcmNoLWxlYWYtdmFsdWVcIikuaW5uZXJIVE1MID1cclxuICAgICsoaW5wdXQgKiAyKS50b0ZpeGVkKDIpICsgMTAwO1xyXG4gIHNsaW1lQmFua1NsaW1lQ29pbkNhcFRvdGFsKCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgc2xpbWVCYW5rU2xpbWVDb2luQ2FwMSxcclxuICBzbGltZUJhbmtTbGltZUNvaW5DYXAyLFxyXG4gIHNsaW1lQmFua1Jlc2VhcmNoU3RvbmUsXHJcbiAgc2xpbWVCYW5rUmVzZWFyY2hMZWFmLFxyXG4gIHNsaW1lQmFua0ludHJlc3QsXHJcbiAgc2xpbWVCYW5rT3B0aW1pc2VyLFxyXG4gIHNsaW1lQmFua1NsaW1lQ29pbkNhcFRvdGFsLFxyXG59O1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBpbXBvcnQgeyBjdXJyZW50VGFiIH0gZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbi8vIGltcG9ydCB7IGN1cnJlbnRUYWIgfSBmcm9tIFwiZXhwb3NlLWxvYWRlcj9leHBvc2VzPXdpbmRvdy4kIGN1cnJlbnRUYWJcIjtcclxuLy9cclxuLy8gQWRkcyB0aGUgYGpxdWVyeWAgdG8gdGhlIGdsb2JhbCBvYmplY3QgdW5kZXIgdGhlIG5hbWVzIGAkYCBhbmQgYGpRdWVyeWBcclxuaW1wb3J0IHsgbG9hZCB9IGZyb20gXCIuL2xvYWQuanNcIjtcclxuY29uc3QgeyBmaWxlLCBwYXJzZSB9ID0gcmVxdWlyZShcIi4vZ2xvYmFscy5qc1wiKTtcclxuXHJcbmZ1bmN0aW9uIHJlYWR5KGZuKSB7XHJcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHtcclxuICAgIGZuKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcclxuICB9XHJcbn1cclxuXHJcbnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAvLyBzdGFydCB1cCB5b3VyIGFwcFxyXG4gIGxvYWQoKTtcclxuICAvLyBjb25zb2xlLmxvZyhkb2N1bWVudC5ib2R5KTtcclxuICAvLyBjb25zdCB4eHggPSBjdXJyZW50VGFiKCk7XHJcbn0pO1xyXG4vLyB0aGlzLmFsZXJ0KFwiSG1tbSwgdGhpcyBwcm9iYWJseSBpc24ndCBhIGdyZWF0IGlkZWEuLi5cIik7XHJcbiIsIi8vIGltcG9ydCB7IGNvbnZlcnQsIGNvbnZlcnQyLCBzaWdtYSwgcmVzdGFydCwgY3VycmVudFRhYiB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG5pbXBvcnQgeyBjYWxjQW52aWwgfSBmcm9tIFwiLi9hbnZpbC5qc1wiO1xyXG5pbXBvcnQgeyBleHBlZGl0aW9uTG9hZCB9IGZyb20gXCIuL2V4cGVkaXRpb24uanNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgc2xpbWVCYW5rU2xpbWVDb2luQ2FwMSxcclxuICBzbGltZUJhbmtTbGltZUNvaW5DYXAyLFxyXG4gIHNsaW1lQmFua1Jlc2VhcmNoU3RvbmUsXHJcbiAgc2xpbWVCYW5rUmVzZWFyY2hMZWFmLFxyXG59IGZyb20gXCIuL3NsaW1lYmFuay5qc1wiO1xyXG5cclxuZnVuY3Rpb24gbG9hZCgpIHtcclxuICAvLyBjdXJyZW50IHRhYlxyXG4gIHZhciB0YWIgPSAwO1xyXG4gIGNvbnN0IHRhYl9saXN0ID0gW1wic2xpbWUtYmFua1wiLCBcImxhYlwiLCBcImFudmlsXCIsIFwiZXhwZWRpdGlvblwiXTtcclxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzZXR0aW5nLWN1cnJlbnRUYWJcIikpIHtcclxuICAgIHRhYl9saXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgdGFiID0gZWxlbWVudCArIFwiLWNhbGN1bGF0b3JcIjtcclxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2V0dGluZy1jdXJyZW50VGFiXCIpID09IGVsZW1lbnQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCkuc3R5bGUuY29sb3IgPSBcIiNmMmUwMDlcIjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2V0dGluZy1jdXJyZW50VGFiXCIsIFwic2xpbWUtYmFua1wiKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpbWUtYmFua1wiKS5zdHlsZS5jb2xvciA9IFwiI2YyZTAwOVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYWItY2FsY3VsYXRvclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFudmlsLWNhbGN1bGF0b3JcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBlZGl0aW9uLWNhbGN1bGF0b3JcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH1cclxuICAvLyBBbnZpbCBsb2FkaW5nXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYW52aWwtbml0cm8tc3BlZWRcIikgPT09IG51bGwpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYW52aWwtbml0cm8tc3BlZWRcIiwgMSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW52aWwtbml0cm8tc3BlZWRcIikudmFsdWUgPVxyXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFudmlsLW5pdHJvLXNwZWVkXCIpO1xyXG4gIH1cclxuICAvLyBhbnZpbCBsb2FkIG5lZWQgcmVmYWN0b3JcclxuXHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTA7IGkrKykge1xyXG4gICAgdmFyIGlkID0gMDtcclxuICAgIGlkID0gXCJhbnZpbC1kdW5nZW9uLVwiICsgaSArIFwiLXRpbWVcIjtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpZCkgPT09IG51bGwpIHtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS52YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNhbGNBbnZpbCgpO1xyXG4gIC8vIGNhbGNFeHBlZGl0aW9uKCk7XHJcbiAgZXhwZWRpdGlvbkxvYWQoKTtcclxuICAvLyBsb2FkaW5nIHZhbHVlcyBmcm9tIGxvY2FsU3RvcmFnZSBlbHNlIHNldHRpbmcgdmFsdWVzIGFzIDBcclxuICAvLyBjb25zdCBsaXN0ID0gW1xyXG4gIC8vICAgJ2FudmlsLWZveC1kdW5nZW9uLTEtdGltZScsICdhbnZpbC1mb3gtZHVuZ2Vvbi0yLXRpbWUnLCAnYW52aWwtZm94LWR1bmdlb24tMy10aW1lJyxcclxuICAvLyAnYW52aWwtZm94LWR1bmdlb24tNC10aW1lJywgJ2FudmlsLWZveC1kdW5nZW9uLTUtdGltZScsJ2FudmlsLWJhdC1kdW5nZW9uLTEtdGltZScsJ2FudmlsLWJhdC1kdW5nZW9uLTItdGltZScsXHJcbiAgLy8gJ2FudmlsLWJhdC1kdW5nZW9uLTMtdGltZScsJ2FudmlsLWJhdC1kdW5nZW9uLTQtdGltZScsJ2FudmlsLWJhdC1kdW5nZW9uLTUtdGltZSddO1xyXG4gIC8vIGNvbnN0IGl0ZW1zID0geyAuLi5sb2NhbFN0b3JhZ2UgfTtcclxuICAvLyBjb25zb2xlLmxvZyhpdGVtcyk7XHJcbiAgLy8gbGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gIC8vICBjb25zb2xlLmxvZyhlbGVtZW50KTtcclxuICAvLyAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGVsZW1lbnQpID09PSBudWxsKSB7c2xpbWVCYW5rUmVzZWFyY2hTdG9uZSgwKTt9XHJcbiAgLy8gIGVsc2Uge3NsaW1lQmFua1Jlc2VhcmNoU3RvbmUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NsaW1lLWJhbmstcmVzZWFyY2gtc3RvbmUtbGV2ZWwnKSk7fVxyXG4gIC8vIH0pO1xyXG5cclxuICAvLyBTbGltZSBCYW5rIGxvYWRpbmdcclxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXJlc2VhcmNoLXN0b25lLWxldmVsXCIpID09PSBudWxsKSB7XHJcbiAgICBzbGltZUJhbmtSZXNlYXJjaFN0b25lKDApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzbGltZUJhbmtSZXNlYXJjaFN0b25lKFxyXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstcmVzZWFyY2gtc3RvbmUtbGV2ZWxcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzbGltZS1iYW5rLXJlc2VhcmNoLWxlYWYtbGV2ZWxcIikgPT09IG51bGwpIHtcclxuICAgIHNsaW1lQmFua1Jlc2VhcmNoTGVhZigwKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2xpbWVCYW5rUmVzZWFyY2hMZWFmKFxyXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstcmVzZWFyY2gtbGVhZi1sZXZlbFwiKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmIChcclxuICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTEtbGV2ZWxcIikgPT09IG51bGxcclxuICApIHtcclxuICAgIHNsaW1lQmFua1NsaW1lQ29pbkNhcDEoMCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNsaW1lQmFua1NsaW1lQ29pbkNhcDEoXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2xpbWUtYmFuay11cGdyYWRlLXNsaW1lLWNvaW4tY2FwLTEtbGV2ZWxcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0yLWxldmVsXCIpID09PSBudWxsXHJcbiAgKSB7XHJcbiAgICBzbGltZUJhbmtTbGltZUNvaW5DYXAyKDApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzbGltZUJhbmtTbGltZUNvaW5DYXAyKFxyXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNsaW1lLWJhbmstdXBncmFkZS1zbGltZS1jb2luLWNhcC0yLWxldmVsXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gc2xpbWVCYW5rU2xpbWVDb2luQ2FwVG90YWwoKTtcclxuICAvLyBzbGltZUJhbmtJbnRyZXN0KCk7XHJcbiAgLy8gc2xpbWVCYW5rT3B0aW1pc2VyKCk7XHJcbiAgLy8gZGVidWdcclxuICAvLyBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh7IC4uLmxvY2FsU3RvcmFnZSB9KSkge1xyXG4gIC8vICAgLy8gY29uc29sZS5sb2coYCR7a2V5fTogJHt2YWx1ZX1gKTtcclxuICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWJ1ZycpLmlubmVySFRNTCArPSBgPGk+JHtrZXl9OjwvaT4gPGI+JHt2YWx1ZX08L2I+PGJyPmA7XHJcbiAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgeyBsb2FkIH07XHJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX18iLCJfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fIiwiX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX18iLCJjdXJyZW50VGFiIiwicmVzdGFydCIsImV4cGVkaXRpb25TYXZlIiwiYW52aWxTYXZlIiwic2xpbWVCYW5rUmVzZWFyY2hTdG9uZSIsInNsaW1lQmFua1Jlc2VhcmNoTGVhZiIsInNsaW1lQmFua1NsaW1lQ29pbkNhcDEiLCJzbGltZUJhbmtTbGltZUNvaW5DYXAyIiwiZ2xvYmFsVGhpcyIsImciLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzZWxmIiwiaW5wdXQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiY2FsY0FudmlsIiwibml0cm8iLCJnZXRJdGVtIiwiaSIsImlkIiwidGltZSIsIm9yYiIsInJld2FyZCIsImlubmVySFRNTCIsIk1hdGgiLCJyb3VuZCIsImNsZWFyIiwic2lnbWEiLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCIsIml0ZXJhdG9yIiwiYWNjdW11bGF0b3IiLCJjb252ZXJ0IiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJ0b0V4cG9uZW50aWFsIiwiY29udmVydDIiLCJ0ZXN0IiwicmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJvdXRwdXQiLCJleGVjIiwidHlwZSIsImNoZWNrZWQiLCJjYWxjRXhwZWRpdGlvbiIsImV4cGVkaXRpb25Mb2FkIiwic3BlZWRCb251czEiLCJzcGVlZEJvbnVzMiIsInNwZWVkQm9udXMzIiwic3BlZWRUYWJsZSIsImxldmVsIiwic3BlZWQiLCJiYXNlU3BlZWQiLCJ0b3RhbFNwZWVkIiwibGVuZ3RoIiwidGVzdEV4cGVkaXRpb24iLCJzbGltZUJhbmtTbGltZUNvaW5DYXBUb3RhbCIsInNsaW1lQmFua0ludHJlc3QiLCJzbGltZUJhbmtPcHRpbWlzZXIiLCJpbnRyZXN0Iiwic2xpbWVfY29pbl9jYXBfMV9jb3N0Iiwic2xpbWVfY29pbl9jYXBfMV9sZXZlbCIsImEiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiZmlsZSIsInBhcnNlIiwiZm4iLCJ0YWIiLCJmb3JFYWNoIiwiZWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImNvbG9yIiwibG9hZCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==